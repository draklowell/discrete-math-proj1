# Комп'ютерний проект: Служба Швидкого Реагування
## Розподіл роботи:
- Андрій Кривий: Command Line Interface, Звіт, Набори даних для тестування
- Іван Максимчук: Graphic User Interface, Алгоритм пошуку кістякового дерева
- Маргарита Падучак: Алгоритм пошуку компонент зв'язності, Алгоритм пошуку кістякового дерева
- Юлія Пастернак: Робота з файлами
- Теодор Талан: Робота з файлами
## Формат даних

Наш застосунок працює з даними у вигляді таблиць формату `csv`, а саме:

- Файл `map.csv`, який зберігає мапу області: першим рядком повинна бути назва міста - центра області. Далі ідуть рядки, які описують кожну дорогу у форматі `roadname, city1, city2, distance`, де `roadname` - назва дороги, `city1`, `city2` - назви міст, які з'єднує дорога та `distance` - довжина дороги в км. Мапа повинна бути зв'язним графом.
- Файл `damaged-roads.csv`, який зберігає усі пошкоджені на даний момент дороги у форматі `roadname, complexity`, де `roadname` - назва пошкодженої дороги та `complexity` - складність ремонту на 1 км дороги (чим більша складність, тим менш привабливим є ремонт цієї дороги).
#### Приклад
`map.csv`
```csv
Lviv
M14, Lviv, Mykolaiv, 41.2
M10, Mykolaiv, Stryi, 35.4
E43, Lviv, Stry, 124.7
```
`damaged-roads.csv`
```csv
E43, 23.6
```
Складність ремонту дороги `E43` буде складати `23.6*124.7 = 2942.92`.

## Алгоритм пошуку компонент зв'язності
Ми використовуємо пошук в глибину для пошуку компонент зв'язності, при цьому зберігаючи множину вже відвіданих міст. Проходячись по усім містам, ми запускаємо для них цей пошук, перевіривши чи ми їх ще не відвідали. Так, для кожного пошуку у нас утвориться множина міст, які належать до цієї компоненти зв'язності.

Після цього ми ітеруємось по усім зламаним дорогам, та перевіряємо чи вони зв'язують міста з різних компонент, якщо так, то зберігаємо про це інформацію.

Таким чином у результаті функції ми отримаємо компоненти зв'язності як множини міст, які входять у неї та дороги, які з'єднують різні компоненти.

## Алгоритм пошуку кістякового дерева
Ми використовуємо дані, отримані з функції пошуку компонент зв'язності. Кожну компоненту ми вважаємо за вершину нового графу, а дороги, що з'єднують їх - ребра. Тоді, використовуємо Алгоритм Прима для пошуку мінімального кістякового дерева.

Ми беремо першу в списку компоненту, і шукаємо найближчу приєднану до неї вершину, та додаємо її та цю дорогу в кістякове дерево. Після цього видаляємо цю та (?) інші дороги, що зв'язують ці вершини.

Після цього обираємо вершину, яка приєднана та найближча до цих двох, знову додаємо цю дорогу, видаляємо її та інші. І продовжуємо це ітеративно, допоки кістякове дерево не буде складене.

## Робота з командним інтерфейсом
Командний інтерфейс реалізований за допомогою модуля `argparse`. Для отримання детальнішої інформації потрібно викликати команду `python cli.py --help`:
```
usage: Rapid Response Service, road services [-h] -m MAP_PATH -i DAMAGED_ROADS_PATH [-o OUTPUT_PATH]

options:
  -h, --help            show this help message and exit
  -m MAP_PATH, --map MAP_PATH
                        Path to the csv file that contains the map in the form of list of all roads, their distances and center city name.
  -i DAMAGED_ROADS_PATH, --input DAMAGED_ROADS_PATH
                        Path to the csv file that contains list of damaged roads and complexity of their repairment per km.
  -o OUTPUT_PATH, --output OUTPUT_PATH
                        Path to the output file, where list of roads that are required to be repaired. Default: stdout
```
P.S. `stdout` - вивід у термінал

Приклади використання:
```bash
python cli.py -m map.csv -i damaged-roads.csv -o roads-to-recover -r isolated-regions
python cli.py -m map.csv -i damaged-roads.csv
```
## Робота з графічним інтерфейсом
